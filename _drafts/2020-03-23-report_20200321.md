---
title: "活動記録 2020/03/23 - 特徴量の追加とクロスバリデーションで最高スコアを更新"
last_modified_at: 2020-03-23T12:00:00+09:00
categories:
  - Blog
tags:
  - Kaggle
---

## Kaggleへの挑戦
実際にプログラムを作成して[
House Prices: Advanced Regression Techniques](https://www.kaggle.com/c/house-prices-advanced-regression-techniques/overview)に予測したデータを提出し、スコアを取得した。  

### 既存の特徴量を組み合わせて新しい特徴量を作成
既存の特徴量同士を組み合わせて、新しい特徴量を作成してデータ分析を行った。GBDT(勾配ブースティング木)モデルは特徴量同士の和、差は自動的に反映してくれるとのことだったので、今回は特徴量同士の積、商を求めて新しい特徴量とした。組み合わせは下の通り

|変数名|計算式||変数名|計算式|
|:---|:---|:---:|:---|:---|
|||||

下の計算で使用したモデルがどの特徴量を重要視したかを出力した図を見ると、` GrLivArea_multi_OverallQual `や`1stFlrSF_multi_OverallQual`などが重要視されていることがわかる。

* 作成したnotebook  
[/Kaggle/HousePrices/notebook/main/20200321/lgb_addfeature.ipynb](https://github.com/CodeSeterpie/CodeSeterpie/blob/develop/Kaggle/HousePrices/notebook/main/20200321/lgb_addfeature.ipynb)

予測したデータをKaggleに提出した結果、スコアは 0.13648 で、これまでの最高スコア(0.13524)を超えることはできなかった。

### クロスバリデーションを実施
既存の特徴量同士を掛けたり、割ったりして算出した結果を新しい特徴量としてデータ分析を行った。GBDT(勾配ブースティング木)

* 作成したnotebook  
[/Kaggle/HousePrices/notebook/main/20200321/lgb_ensemble.ipynb](https://github.com/CodeSeterpie/CodeSeterpie/blob/develop/Kaggle/HousePrices/notebook/main/20200321/lgb_ensemble.ipynb)

予測したデータをKaggleに提出した結果、スコアは 0.13535 で、これまでの最高スコア(0.13524)を超えることはできなかった。

### 作成した新しい特徴量に対し、クロスバリデーションを実施
既存の特徴量同士を掛けたり、割ったりして算出した結果を新しい特徴量としてデータ分析を行った。GBDT(勾配b 

* 作成したnotebook  
[/Kaggle/HousePrices/notebook/main/20200321/lgb_addfeature_ensemble.ipynb](https://github.com/CodeSeterpie/CodeSeterpie/blob/develop/Kaggle/HousePrices/notebook/main/20200321/lgb_addfeature_ensemble.ipynb)

予測したデータをKaggleに提出した結果、スコアは 0.13648 で、これまでの最高スコア(0.13524)を超えることはできなかった。

最終的な順位は下の通りとなった。

<img src="/assets/images/posts/report_20200321/score_addfeature_ensemble.jpg" witdh="500">

## 課題
* 【継続】[新しい特徴量を作成して増やす必要がある](https://github.com/CodeSeterpie/CodeSeterpie/issues/39)
